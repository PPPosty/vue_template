<template>
  <div class="nav-bar">
    <div class="logo">
      <div class="title" @click="$router.push('/user/main')">大连旅游网 - 首页</div>
    </div>
    <div class="center"></div>
    <div class="cart" @click="$router.push('/shop/cart')">
      <svg t="1700835258629" viewBox="0 0 1024 1024" p-id="1503" width="20">
        <path
          d="M346.112 806.912q19.456 0 36.864 7.168t30.208 19.968 20.48 30.208 7.68 36.864-7.68 36.864-20.48 30.208-30.208 20.48-36.864 7.68q-20.48 0-37.888-7.68t-30.208-20.48-20.48-30.208-7.68-36.864 7.68-36.864 20.48-30.208 30.208-19.968 37.888-7.168zM772.096 808.96q19.456 0 37.376 7.168t30.72 19.968 20.48 30.208 7.68 36.864-7.68 36.864-20.48 30.208-30.72 20.48-37.376 7.68-36.864-7.68-30.208-20.48-20.48-30.208-7.68-36.864 7.68-36.864 20.48-30.208 30.208-19.968 36.864-7.168zM944.128 227.328q28.672 0 44.544 7.68t22.528 18.944 6.144 24.064-3.584 22.016-13.312 37.888-22.016 62.976-23.552 68.096-18.944 53.248q-13.312 40.96-33.28 56.832t-49.664 15.872l-35.84 0-65.536 0-86.016 0-96.256 0-253.952 0 14.336 92.16 517.12 0q49.152 0 49.152 41.984 0 20.48-9.728 35.328t-38.4 14.848l-49.152 0-94.208 0-118.784 0-119.808 0-99.328 0-55.296 0q-20.48 0-34.304-9.216t-23.04-24.064-14.848-32.256-8.704-32.768q-1.024-6.144-5.632-29.696t-11.264-58.88-14.848-78.848-16.384-87.552q-19.456-103.424-44.032-230.4l-76.8 0q-15.36 0-25.6-7.68t-16.896-18.432-9.216-23.04-2.56-22.528q0-20.48 13.824-33.792t37.376-13.312l21.504 0 21.504 0 25.6 0 34.816 0q20.48 0 32.768 6.144t19.456 15.36 10.24 19.456 5.12 17.408q2.048 8.192 4.096 23.04t4.096 30.208q3.072 18.432 6.144 38.912l700.416 0zM867.328 194.56l-374.784 0 135.168-135.168q23.552-23.552 51.712-24.064t51.712 23.04z"
          p-id="1504"
          fill="#ffffff"
        ></path></svg
      ><span class="text">购物车</span>
    </div>
    <div class="cart" @click="$router.push('/shop/orderView')">
      <svg t="1700836502978" viewBox="0 0 1024 1024" p-id="2621" width="23">
        <path
          d="M821.333333 256a32 32 0 0 1 64 0v565.333333c0 64.8-52.533333 117.333333-117.333333 117.333334H256c-64.8 0-117.333333-52.533333-117.333333-117.333334V202.666667c0-64.8 52.533333-117.333333 117.333333-117.333334h597.333333a32 32 0 0 1 0 64H256a53.333333 53.333333 0 0 0-53.333333 53.333334v618.666666a53.333333 53.333333 0 0 0 53.333333 53.333334h512a53.333333 53.333333 0 0 0 53.333333-53.333334V256zM341.333333 437.333333a32 32 0 0 1 0-64h341.333334a32 32 0 0 1 0 64H341.333333z m0 170.666667a32 32 0 0 1 0-64h213.333334a32 32 0 0 1 0 64H341.333333z"
          fill="#ffffff"
          p-id="2622"
        ></path></svg
      >我的订单
    </div>
    <div class="account" @click="$router.push('/user/userView')">
      <svg t="1700836588226" viewBox="0 0 1154 1024" p-id="4536" width="22" fill="#fff">
        <path
          d="M1015.808 64.512q62.464 0 99.84 31.744t37.376 96.256l0 568.32q0 27.648-10.24 52.224t-28.16 43.008-41.984 29.184-50.688 10.752l-892.928 0q-26.624 0-50.176-10.24t-40.96-27.136-27.648-39.424-10.24-48.128l0-580.608q0-55.296 33.792-90.624t95.232-35.328l886.784 0zM287.744 253.952q-19.456 0-36.864 7.168t-30.72 19.968-20.992 30.72-7.68 38.4 7.68 37.888 20.992 30.72 30.72 20.992 36.864 7.68q21.504 0 39.424-7.68t30.72-20.992 20.48-30.72 7.68-37.888q0-41.984-27.648-69.12t-70.656-27.136zM448.512 608.256q0-19.456-7.68-37.376t-20.48-30.72-30.72-20.48-37.376-7.68l-128 0q-39.936 0-67.584 28.16t-27.648 68.096l0 4.096 0 92.16 319.488 0 0-92.16 0-4.096zM923.648 709.632q20.48 0 30.208-10.24t9.728-24.576-11.264-25.088-31.744-10.752l-305.152 0q-20.48 0-30.72 10.752t-10.24 25.088 10.24 24.576 29.696 10.24l309.248 0zM924.672 577.536q20.48 0 29.696-10.24t9.216-24.576q0-15.36-8.704-25.6t-29.184-10.24l-313.344 0q-20.48 0-29.696 10.24t-9.216 25.6q0 14.336 8.704 24.576t29.184 10.24l313.344 0zM925.696 447.488q15.36 0 26.624-10.24t11.264-24.576-11.264-23.04-26.624-8.704l-207.872 0q-15.36 0-26.112 8.704t-10.752 23.04 10.752 24.576 26.112 10.24l207.872 0z"
          p-id="4537"
        ></path></svg
      >账号管理
    </div>
    <div class="avatar">
      <svg viewBox="0 0 1024 1024" width="24">
        <path
          fill="#fff"
          d="M511.626 1.896C229.572 1.896 0.927 230.541 0.927 512.595c0 282.055 228.645 510.699 510.699 510.699s510.698-228.645 510.698-510.699S793.68 1.896 511.626 1.896z m0 69.641c243.606 0 441.058 197.474 441.058 441.058 0 87.347-25.392 168.762-69.194 237.271-73.419-77.609-170.944-132.204-280.597-151.829 70.004-33.755 118.404-105.164 118.404-188.066 0-115.388-93.535-208.922-208.923-208.922S303.452 294.583 303.452 409.97c0 82.902 48.399 154.311 118.403 188.066-110.093 19.704-207.96 74.661-281.479 152.77-44.177-68.704-69.808-150.465-69.808-238.211 0-243.584 197.496-441.058 441.058-441.058z"
        ></path>
      </svg>
      {{ user.uname || '未登录' }}
    </div>
    <div class="system" @click="$router.push('/admin/login')">
      <svg t="1700836642218" viewBox="0 0 1024 1024" p-id="5542" width="18">
        <path
          d="M692.314944 1023.925046c-5.352983-0.768281-10.712212-1.561547-16.065195-2.304843-24.260193-3.385434-45.778309-12.973332-65.029059-28.089106-22.698646-17.820373-38.170453-40.475296-47.108747-67.839844-4.484763-13.72912-6.65219-27.833012-6.677175-42.130536-0.162401-106.228913-0.087447-212.457826-0.087447-318.686739 0-2.292351 0-4.578456 0-7.532902 2.698353 0 4.959473 0 7.214347 0 107.777968 0 215.562181-0.337294 323.340149 0.218617 29.37582 0.149909 56.165719 10.04387 79.894986 27.90172 17.751665 13.354349 31.480786 29.981701 41.331024 49.67593 7.945151 15.896548 13.12324 32.748762 13.685397 50.750274 0.031231 0.986898 0.724558 1.955057 1.111821 2.935708 0 67.483811 0 134.973868 0 202.45768-0.387264 1.174283-0.91819 2.317336-1.143052 3.516604-1.886349 10.231255-2.829523 20.737343-5.740246 30.662535-8.207491 27.957936-24.753642 50.469196-47.502257 68.458216-18.994657 15.022081-40.500281 24.341393-64.535611 27.701842-5.352983 0.749543-10.699719 1.536562-16.052702 2.304843C823.40993 1023.925046 757.862437 1023.925046 692.314944 1023.925046L692.314944 1023.925046z"
          fill="#fff"
          p-id="5543"
        ></path>
        <path
          d="M1023.931292 333.939929c-0.774527 4.772087-1.586532 9.544175-2.317336 14.322508-3.697743 24.191485-13.348103 45.709601-28.538831 64.879151-12.192558 15.390606-27.008515 27.714335-44.254239 36.771307-14.291277 7.501671-29.569452 13.035794-45.853263 14.235062-13.25441 0.974405-26.583775 1.218007-39.881908 1.230499-99.451799 0.093693-198.903599 0.04997-298.361645 0.04997-2.273612 0-4.547225 0-7.376748 0 0-2.635891 0-4.715872 0-6.789606 0-107.209564-0.324802-214.419129 0.199878-321.622447 0.156155-31.674417 10.930828-60.238234 31.043553-85.154276 22.436306-27.795535 51.693449-43.654605 86.266097-50.606612 2.323582-0.468464 4.665902-0.836989 6.99573-1.249238 72.524485 0 145.055215 0 217.585946 0 0.780773 0.387264 1.52407 0.905697 2.348567 1.136806 12.548591 3.435403 25.534415 5.746493 37.577065 10.474857 23.648066 9.288081 42.605246 25.147151 57.521142 45.72834 13.010809 17.951543 21.536855 37.795681 24.741149 59.825985 0.699573 4.78458 1.536562 9.544175 2.311089 14.316262C1023.931292 198.966061 1023.931292 266.449872 1023.931292 333.939929L1023.931292 333.939929z"
          fill="#fff"
          p-id="5544"
        ></path>
        <path
          d="M0 683.008125c1.536562-7.120654 2.873246-14.291277 4.659656-21.343223 4.91575-19.43189 13.872783-36.802538 26.533805-52.405514 17.583018-21.668025 39.632061-36.621398 66.084665-45.20366 13.685397-4.441039 27.758058-6.683421 42.143028-6.689667 105.841649-0.031231 211.683299-0.018739 317.524948-0.018739 2.517214 0 5.028181 0 8.488569 0 0 2.21115 0 4.234915 0 6.264926 0 110.301427 0.243601 220.602855-0.218617 330.898036-0.0812 19.925339-6.852068 38.588947-16.521166 56.228181-7.757765 14.147615-17.526802 26.546297-29.419544 37.171063-18.463731 16.489935-39.819446 27.758058-64.279517 32.442699-7.276809 1.3929-14.77848 1.624009-22.16772 2.467244-0.818251 0.093693-1.574039 0.730804-2.361059 1.111821-65.160229 0-130.320459 0-195.474442 0-1.174283-0.387264-2.336074-1.099329-3.516604-1.111821-19.182042-0.281078-37.183555-5.446676-54.110723-14.016445-17.133293-8.675955-32.217836-20.069001-44.579041-35.122313-13.116994-15.965256-22.761108-33.579505-28.039136-53.504843-2.005026-7.576626-3.173063-15.378114-4.722118-23.073417C0 825.733512 0 754.370819 0 683.008125M139.589801 605.099427 139.589801 605.099427z"
          fill="#fff"
          p-id="5545"
        ></path>
        <path
          d="M340.923167-0.006246c7.314286 1.549055 14.709772 2.779553 21.924119 4.709625 19.925339 5.334244 37.564572 14.940881 53.523582 28.101598 16.90843 13.941491 29.076003 31.237184 37.889374 50.968891 6.702159 15.009589 11.105722 30.799951 11.118214 47.389826 0.087447 108.952251 0.043723 217.910748 0.043723 326.862999 0 2.273612 0 4.547225 0 7.395486-2.429767 0-4.309869 0-6.196218 0-109.926656 0-219.847066 0.243601-329.773722-0.21237-21.3807-0.087447-41.593363-7.1269-59.838477-18.307576C59.613615 440.768476 49.719654 433.8477 41.474686 425.583994c-14.035184-14.060168-25.309552-30.318995-32.242821-49.301159-4.197438-11.480493-7.582872-23.060925-8.207491-35.334683-0.018739-0.412248-0.662096-0.799512-1.018129-1.193022 0-71.36894 0-142.731634 0-214.094327 0.387264-0.780773 0.949421-1.52407 1.124314-2.348567 2.123704-9.981408 3.17931-20.325095 6.458558-29.906746 8.932048-26.090326 24.922289-47.452287 46.652775-64.385702 13.86029-10.799658 29.038526-19.219519 46.296743-23.385726 7.976382-1.923826 15.977748-3.760205 23.966622-5.640307C196.642479-0.006246 268.7797-0.006246 340.923167-0.006246M327.89362 46.80893 327.89362 46.80893zM417.551397 124.548981 417.551397 124.548981z"
          fill="#fff"
          p-id="5546"
        ></path></svg
      >进入后台
    </div>
    <div class="logout" @click="loginout">
      <svg viewBox="0 0 1024 1024" width="22" height="22" fill="#fff">
        <path d="M113.777778 56.888889h56.888889v910.222222H113.777778z" width="60" height="60"></path>
        <path
          d="M113.777778 56.888889h56.888889v910.222222H113.777778zM739.555556 56.888889h56.888888v170.666667h-56.888888z"
        ></path>
        <path
          d="M739.555556 56.888889h56.888888v170.666667h-56.888888zM739.555556 853.333333h56.888888v170.666667h-56.888888z"
        ></path>
        <path
          d="M739.555556 853.333333h56.888888v170.666667h-56.888888zM113.777778 56.888889h625.777778v56.888889H113.777778z"
        ></path>
        <path
          d="M113.777778 56.888889h625.777778v56.888889H113.777778zM113.777778 967.111111h625.777778v56.888889H113.777778z"
        ></path>
        <path
          d="M113.777778 967.111111h625.777778v56.888889H113.777778zM284.444444 512h568.888889v56.888889H284.444444z"
        ></path>
        <path d="M284.444444 512h568.888889v56.888889H284.444444z"></path>
        <path
          d="M904.533333 563.2l17.066667-22.755556L722.488889 341.333333l-39.822222 39.822223 159.288889 159.288888-159.288889 164.977778 39.822222 39.822222z"
        ></path>
      </svg>
      安全退出
    </div>
  </div>
  <!-- *******************************************************************88 -->
</template>

<script>
import { reactive, toRefs, onMounted } from 'vue'
import axios from 'axios'
import { useRouter } from 'vue-router'
export default {
  name: 'headView',
  setup() {
    // 定义数据
    const router = useRouter()

    const data = reactive({
      user: {},
      hasLogin: false,
      pics: [
        'yd_210319_content_FL_pctop_1500x200.jpg',
        'yd_210326_content_Spring_pctop_1500x200.jpg',
        'yd_210330_ku_Apr_pctop_1500x200.jpg',
      ],
      typeList: [],
    })
    // 初始化
    onMounted(() => {
      console.log(123)

      if (window.sessionStorage.getItem('user') != null) {
        data.hasLogin = true
        data.user = JSON.parse(window.sessionStorage.getItem('user'))
      }
      //获得类型*********************88
      axios.get('/admin/getTypeList').then((res) => {
        data.typeList = res.data.typeList
      })
    })
    const loginout = () => {
      sessionStorage.removeItem('uname')
      sessionStorage.removeItem('user')
      alert('退出成功')
      router.push('/user/login') //刷新页面
    }

    // 所有的变量和方法，需要在return返回，外界才能访问
    return {
      ...toRefs(data),
      loginout,
    }
  },
}
</script>

<style scoped lang="less">
.nav-bar {
  position: sticky;
  top: 0;
  height: 60px;
  background-color: #000;
  display: flex;
  align-items: center;
  color: #fff;
  > * {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 0 20px;
    height: 60px;
    line-height: 60px;
    cursor: pointer;
    &:hover {
      background-color: #252a3d;
    }
  }
  .center {
    flex: 1;
    cursor: auto;
    background-color: inherit !important;
  }
}
</style>
